#!/usr/bin/env bash
# (C) 2023–present Bartosz Sławecki (bswck)
#
# A manual alias for long poetry commands ✨
#
# Run this before pushing to ensure that package locks are up-to-date.
# We update requirements-dev.txt in order to make sure that the CI environment
# can install the dev dependencies without Poetry.
#
# Usage:
# $ poe lock

poetry lock --no-update
echo "Auto-commit package lock"
git add "poetry.lock" && git commit -m "Update package lock" || exit 0